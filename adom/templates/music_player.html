<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play Chord</title>
</head>
<body>

<button onclick="playChord()">Play Chord</button>

<script>

  // Perform your function here for each element
   // Replace this line with your actual function


  function playChord() {




    // Define the notes, octaves, and durations as a 2D array
    const p = [['E', 'G', 'F#'], ['2', '3', '1'], ['2.0', '2.0', '0.5']];

    // Create an audio context
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();

    // Iterate through the notes and play them simultaneously
    for (let i = 0; i < p[0].length; i++) {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();

      // Set the frequency based on the note and octave
      const frequency = noteToFrequency(p[0][i], p[1][i]);
      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);

      // Set the duration and start playing
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.start();
      oscillator.stop(audioContext.currentTime + parseFloat(p[2][i]));

      // Adjust the gain for smoother sound
      gainNode.gain.setValueAtTime(1, audioContext.currentTime);
      gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + parseFloat(p[2][i]));
    }


  }

        // Helper function to convert note and octave to frequency
  function noteToFrequency(note, octave) {
    const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
    const index = notes.indexOf(note);
    const baseFrequency = 440; // A4 frequency in Hz
    return baseFrequency * Math.pow(2, (index - 9 + (octave - 4) * 12) / 12);
  }


</script>



</body>
</html> -->

<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play Chord</title>
</head>
<body>

<button onclick="playChordThreeTimesWithInterval()">Play Chord</button>

<script>

  function playChord() {
    const p = [['E', 'G', 'F#'], ['2', '2', '1'], ['2.0', '2.0', '0.5']];
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();

    for (let i = 0; i < p[0].length; i++) {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      const frequency = noteToFrequency(p[0][i], p[1][i]);

      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);

      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.start();
      oscillator.stop(audioContext.currentTime + parseFloat(p[2][i]));

      gainNode.gain.setValueAtTime(1, audioContext.currentTime);
      gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + parseFloat(p[2][i]));
    }
  }

  function noteToFrequency(note, octave) {
    const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
    const index = notes.indexOf(note);
    const baseFrequency = 440; // A4 frequency in Hz
    return baseFrequency * Math.pow(2, (index - 9 + (octave - 4) * 12) / 12);
  }

  function playChordThreeTimesWithInterval() {
    // Play the chord the first time
    playChord();

    // Schedule the next plays after 2-second intervals
    setTimeout(function() {
      playChord();

      setTimeout(function() {
        playChord();
      }, 2000);
    }, 2000);
  }

</script>

</body>
</html> -->


<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play Chord</title>
</head>
<body>

<button onclick="playChordThreeTimesWithInterval()">Play Chord</button>

<script>

  function playChord(chord) {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();

    for (let i = 0; i < chord[0].length; i++) {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      const frequency = noteToFrequency(chord[0][i], chord[1][i]);

      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);

      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.start();
      oscillator.stop(audioContext.currentTime + parseFloat(chord[2][i]));

      gainNode.gain.setValueAtTime(1, audioContext.currentTime);
      gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + parseFloat(chord[2][i]));
    }
  }

  function noteToFrequency(note, octave) {
    const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
    const index = notes.indexOf(note);
    const baseFrequency = 440; // A4 frequency in Hz
    return baseFrequency * Math.pow(2, (index - 9 + (octave - 4) * 12) / 12);
  }


  function playChordThreeTimesWithInterval() {
    // Play the first chord
    playChord([['E', 'G', 'F#'], ['2', '3', '1'], ['2.0', '2.0', '0.5']]);

    // Schedule the next plays after 2-second intervals
    setTimeout(function() {
      // Play the second chord
      playChord([['D', 'D', 'F#'], ['2', '2', '5'], ['2.0', '2.0', '0.5']]);

      setTimeout(function() {
        // Play the third chord
        playChord([['E', 'G', 'F#'], ['4', '2', '1'], ['2.0', '2.0', '0.5']]);
      }, 500);
    }, 500);
  }

</script>

</body>
</html> -->

<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play Chord</title>
</head>
<body>

<button onclick="playChordsWithIntervals()">Play Chords</button>

<script>

  function playChord(chord) {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();

    for (let i = 0; i < chord[0].length; i++) {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      const frequency = noteToFrequency(chord[0][i], chord[1][i]);

      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);

      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.start();
      oscillator.stop(audioContext.currentTime + parseFloat(chord[2][i]));

      gainNode.gain.setValueAtTime(1, audioContext.currentTime);
      gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + parseFloat(chord[2][i]));
    }
  }

  function noteToFrequency(note, octave) {
    const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
    const index = notes.indexOf(note);
    const baseFrequency = 440; // A4 frequency in Hz
    return baseFrequency * Math.pow(2, (index - 9 + (octave - 4) * 12) / 12);
  }

  function playChordsWithIntervals() {
    const m = [
      [['E', 'G', 'F#'], ['2', '3', '1'], ['2.0', '2.0', '0.5']],
      [['D', 'D', 'F#'], ['2', '2', '5'], ['2.0', '2.0', '0.5']],
      [['E', 'G', 'F#'], ['4', '2', '1'], ['2.0', '2.0', '0.5']]
    ];

    let interval = 500; // Initial interval in milliseconds

    for (let i = 0; i < m.length; i++) {
      setTimeout(function() {
        playChord(m[i]);
      }, i * interval);

      interval = 1000; // Increment the interval for the next chord
    }
  }

</script>

</body>
</html> -->

<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play Chord</title>
</head>
<body>

<button onclick="playChordsWithIntervals()">Play Chords</button>

<script>

  function playChord(chord) {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();

    for (let i = 0; i < chord[0].length; i++) {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      const frequency = noteToFrequency(chord[0][i], chord[1][i]);

      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);

      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.start();
      oscillator.stop(audioContext.currentTime + parseFloat(chord[2][i]));

      gainNode.gain.setValueAtTime(1, audioContext.currentTime);
      gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + parseFloat(chord[2][i]));
    }
  }

  function noteToFrequency(note, octave) {
    const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
    const index = notes.indexOf(note);
    const baseFrequency = 440; // A4 frequency in Hz
    return baseFrequency * Math.pow(2, (index - 9 + (octave - 4) * 12) / 12);
  }

  function playChordsWithIntervals() {
    const m = [
      [['E', 'G', 'F#'], ['2', '3', '1'], ['2.0', '2.0', '2.0']],
      [['D', 'D', 'F#'], ['2', '2', '5'], ['2.0', '2.0', '2.0']],
      [['E', 'G', 'F#'], ['4', '2', '1'], ['3.0', '3.0', '2.5']]
    ];

    let interval = parseFloat(m[0][2][0]) * 1000; // Initial interval in milliseconds

    for (let i = 0; i < m.length; i++) {
      setTimeout(function() {
        playChord(m[i]);
      }, i * interval);

      interval = Math.min(parseFloat(m[i][2][0]) * 1000, parseFloat(m[i][2][1]) * 1000, parseFloat(m[i][2][2]) * 1000);
    }
  }

</script>

</body>
</html> -->


<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play Chord</title>
</head>
<body>

<button onclick="playChordsWithIntervals()">Play Chords</button>

<script>

  function playChord(chord) {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();

    for (let i = 0; i < chord[0].length; i++) {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      const frequency = noteToFrequency(chord[0][i], chord[1][i]);

      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);

      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      oscillator.start();
      oscillator.stop(audioContext.currentTime + parseFloat(chord[2][i]));

      gainNode.gain.setValueAtTime(1, audioContext.currentTime);
      gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + parseFloat(chord[2][i]));
    }
  }

  function noteToFrequency(note, octave) {
    const notes = ['C', 'C#', 'Db', 'D', 'D#', 'Eb', 'E', 'F', 'F#', 'Gb', 'G', 'G#', 'Ab', 'A', 'A#', 'Bb', 'B'];
    const index = notes.indexOf(note);
    const baseFrequency = 440; // A4 frequency in Hz
    return baseFrequency * Math.pow(2, (index - 9 + (octave - 4) * 12) / 12);
  }

  function playChordsWithIntervals() {
    const m = [[['C', 'G', 'E', 'C'], ['4', '3', '3', '3'], ['0.5', '0.5', '0.5', '1.0']],
 [['E', 'C', 'G'], ['4', '4', '3'], ['0.5', '0.5', '0.5']],
 [['G', 'C', 'E', 'C'], ['4', '4', '3', '3'], ['1.0', '1.0', '1.0', '1.0']],
 [['G', 'C', 'E', 'C'], ['4', '4', '3', '3'], ['1.0', '1.0', '1.0', '1.0']],
 [['G', 'C', 'E', 'C'], ['4', '4', '3', '3'], ['1.0', '1.0', '1.0', '1.0']],
 [['C', 'C', 'E', 'A'], ['5', '4', '3', '2'], ['0.5', '1.0', '1.0', '0.5']],
 [['B', 'G'], ['4', '2'], ['0.5', '0.5']]];

    let interval = parseFloat(m[0][2][0]) * 1000; // Initial interval in milliseconds

    for (let i = 0; i < m.length; i++) {
      setTimeout(function() {
        playChord(m[i]);
      }, i * interval);

      interval = Math.min(parseFloat(m[i][2][0]) * 1000, parseFloat(m[i][2][1]) * 1000, parseFloat(m[i][2][2]) * 1000);
    }
  }

</script>

</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Play Chord</title>
</head>
<body>

<button onclick="playChordsWithIntervals()">Play Chords</button>

<script>

  function playChord(chord, key) {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const masterGain = audioContext.createGain();
    masterGain.connect(audioContext.destination);

    for (let i = 0; i < chord[0].length; i++) {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      const frequency = noteToFrequency(chord[0][i], chord[1][i], key);

      oscillator.type = 'sine'; // You can experiment with different waveforms
      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);

      gainNode.gain.setValueAtTime(0, audioContext.currentTime);
      gainNode.gain.linearRampToValueAtTime(1, audioContext.currentTime + 0.01);
      gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + parseFloat(chord[2][i]));

      oscillator.connect(gainNode);
      gainNode.connect(masterGain);
      oscillator.start();
      oscillator.stop(audioContext.currentTime + parseFloat(chord[2][i]));
    }
  }

  function noteToFrequency(note, octave, key) {
    const notes = ['C', 'C#', 'Db', 'D', 'D#', 'Eb', 'E', 'F', 'F#', 'Gb', 'G', 'G#', 'Ab', 'A', 'A#', 'Bb', 'B'];
    const index = (notes.indexOf(note) + key) % notes.length;
    const baseFrequency = 440; // A4 frequency in Hz
    return baseFrequency * Math.pow(2, (index - 9 + (octave - 4) * 12) / 12);
  }

  function playChordsWithIntervals() {
    const m = [[['C', 'G', 'E', 'C'], ['4', '3', '3', '3'], ['0.5', '0.5', '0.5', '1.0']],
 [['E', 'C', 'G'], ['4', '4', '3'], ['0.5', '0.5', '0.5']],
 [['G', 'C', 'E', 'C'], ['4', '4', '3', '3'], ['1.0', '1.0', '1.0', '1.0']],
 [['G', 'C', 'E', 'C'], ['4', '4', '3', '3'], ['1.0', '1.0', '1.0', '1.0']],
 [['G', 'C', 'E', 'C'], ['4', '4', '3', '3'], ['1.0', '1.0', '1.0', '1.0']],
 [['C', 'C', 'E', 'A'], ['5', '4', '3', '2'], ['0.5', '1.0', '1.0', '0.5']],
 [['B', 'G'], ['4', '2'], ['0.5', '0.5']]];

    let interval = parseFloat(m[0][2][0]) * 1000; // Initial interval in milliseconds

    for (let i = 0; i < m.length; i++) {
      setTimeout(function() {
        playChord(m[i], 4); // 4 is the key of E minor
      }, i * interval);

      interval = Math.min(parseFloat(m[i][2][0]) * 1000, parseFloat(m[i][2][1]) * 1000, parseFloat(m[i][2][2]) * 1000);
    }
  }

</script>

</body>
</html>


[[['E', 'G', 'F#'], ['2', '3', '1'], ['2.0', '2.0', '0.5']],[['D', 'D', 'F#'], ['2', '2', '5'], ['2.0', '2.0', '0.5']], [['E', 'G', 'F#'], ['4', '2', '1'], ['2.0', '2.0', '0.5']]]